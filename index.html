<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f7f7;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 500px;
            margin: 40px auto;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 32px 24px 24px 24px;
        }
        h1 {
            text-align: center;
            margin-bottom: 24px;
        }
        .question {
            margin-bottom: 24px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 24px;
        }
        .navigation button {
            padding: 8px 16px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            background: #1976d2;
            color: #fff;
            cursor: pointer;
        }
        .navigation button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        #submitBtn {
            width: 100%;
            padding: 12px;
            font-size: 18px;
            background: #43a047;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #score {
            text-align: center;
            font-size: 20px;
            margin-top: 24px;
            color: #1976d2;
        }
        .options label {
            display: block;
            margin-bottom: 12px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Practice Quiz</h1>
        <div id="quiz"></div>
        <div class="navigation">
            <button id="prevBtn">Previous</button>
            <button id="nextBtn">Next</button>
        </div>
        <button id="submitBtn">Submit Quiz</button>
        <div id="score"></div>
    </div>
    <script>
        // Placeholder for 5 questions
        const questions = [
            {
                text: "Calculate the slope given the points (3,7) and (-6,8). Choose one of the following:",
                options: ["A. -9", "B. 1/9", "C. -1/9", "D. 9"],
                answer: "C. -1/9"
            },
            {
                text: "Which point shows the point (2,-4)?",
                options: ["A", "B", "C"],
                answer: "A",
                plot: function() {
                    // Static graph with axis -5 to 5, gridlines, and labeled points
                    const points = [
                        {x: 2, y: -4, label: 'A'},
                        {x: -2, y: -4, label: 'B'},
                        {x: 2, y: 4, label: 'C'}
                    ];
                    Plotly.newPlot('plot', [
                        {
                            x: points.map(p => p.x),
                            y: points.map(p => p.y),
                            mode: 'markers+text',
                            marker: {size: 16, color: '#1976d2'},
                            text: points.map(p => p.label),
                            textposition: 'top center',
                            hoverinfo: 'text',
                            showlegend: false
                        }
                    ], {
                        xaxis: {
                            title: 'x',
                            range: [-5, 5],
                            dtick: 1,
                            zeroline: true,
                            gridcolor: '#ccc',
                            showgrid: true,
                            tickangle: 0
                        },
                        yaxis: {
                            title: 'y',
                            range: [-5, 5],
                            dtick: 1,
                            zeroline: true,
                            gridcolor: '#ccc',
                            showgrid: true
                        },
                        width: 400,
                        height: 300,
                        margin: {t: 0}
                    }, {displayModeBar: false, staticPlot: true});
                }
            },
            {
                text: "Find the equation of the line given the points (-5,3) and (1,9).",
                options: ["A. y=x-8", "B. y=8x+1", "C. y=-x+8", "D. y=x+8"],
                answer: "D. y=x+8"
            },
            {
                text: "Is the point (2,-1) on the line y=-2x+3?",
                options: ["A. Yes", "B. No"],
                answer: "A. Yes"
            },
            {
                text: "Is the point (0,-4) on the line y=-2x+3?",
                options: ["A. Yes", "B. No"],
                answer: "B. No"
            }
        ];

        let current = 0;
        let answers = Array(questions.length).fill(null);
        const quizDiv = document.getElementById('quiz');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const scoreDiv = document.getElementById('score');

        function renderQuestion(idx) {
            quizDiv.innerHTML = '';
            const q = questions[idx];
            const qDiv = document.createElement('div');
            qDiv.className = 'question';
            qDiv.innerHTML = `<div style='font-weight:bold;margin-bottom:8px;'>Question ${idx+1}</div>`;
            if (q.text) {
                qDiv.innerHTML += `<div>${q.text}</div>`;
            }
            if (typeof q.plot === 'function') {
                qDiv.innerHTML += `<div id='plot'></div>`;
            }
            if (q.options) {
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';
                q.options.forEach(opt => {
                    const label = document.createElement('label');
                    label.innerHTML = `<input type='radio' name='q${idx}' value='${opt}' ${answers[idx]===opt?'checked':''}> ${opt}`;
                    optionsDiv.appendChild(label);
                });
                optionsDiv.addEventListener('change', e => {
                    if (e.target.name === `q${idx}`) {
                        answers[idx] = e.target.value;
                    }
                });
                qDiv.appendChild(optionsDiv);
            }
            quizDiv.appendChild(qDiv);
            if (typeof q.plot === 'function') q.plot();
        }

        function updateNav() {
            prevBtn.disabled = current === 0;
            nextBtn.disabled = current === questions.length-1;
            nextBtn.style.display = current === questions.length-1 ? 'none' : '';
        }

        prevBtn.onclick = function() {
            if (current > 0) {
                current--;
                renderQuestion(current);
                updateNav();
            }
        };
        nextBtn.onclick = function() {
            if (current < questions.length-1) {
                current++;
                renderQuestion(current);
                updateNav();
            }
        };
        submitBtn.onclick = function() {
            let score = 0;
            for (let i = 0; i < questions.length; i++) {
                if (answers[i] === questions[i].answer) score++;
            }
            scoreDiv.textContent = `Your score: ${score} / ${questions.length}`;
            submitBtn.disabled = true;
            prevBtn.disabled = true;
            nextBtn.disabled = true;
            // Add restart button
            const restartBtn = document.createElement('button');
            restartBtn.textContent = 'Restart Quiz';
            restartBtn.style.width = '100%';
            restartBtn.style.padding = '12px';
            restartBtn.style.fontSize = '18px';
            restartBtn.style.background = '#1976d2';
            restartBtn.style.color = '#fff';
            restartBtn.style.border = 'none';
            restartBtn.style.borderRadius = '4px';
            restartBtn.style.cursor = 'pointer';
            restartBtn.style.marginTop = '16px';
            scoreDiv.appendChild(restartBtn);
            restartBtn.onclick = function() {
                answers = Array(questions.length).fill(null);
                current = 0;
                submitBtn.disabled = false;
                prevBtn.disabled = false;
                nextBtn.disabled = false;
                scoreDiv.textContent = '';
                renderQuestion(current);
                updateNav();
            };
        };

        // Initial render
        renderQuestion(current);
        updateNav();
    </script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</body>
</html>
